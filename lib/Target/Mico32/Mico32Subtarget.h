//=====-- Mico32Subtarget.h - Define Subtarget for the Mico32 --*- C++ -*--====//
//
//                     The LLVM Compiler Infrastructure
//
// This file is distributed under the University of Illinois Open Source
// License. See LICENSE.TXT for details.
//
//===----------------------------------------------------------------------===//
//
// This file declares the Mico32 specific subclass of TargetSubtarget.
//
//===----------------------------------------------------------------------===//

#ifndef MICO32SUBTARGET_H
#define MICO32SUBTARGET_H

#include "llvm/Target/TargetSubtarget.h"
#include "llvm/Target/TargetMachine.h"

#include <string>

namespace llvm {

class Mico32Subtarget : public TargetSubtarget {
protected:
  // Is the barrel shifter present? 
  bool HasBarrel;

  // Are (undocumented) signed division 0x27 /modulo 0x35 instructions enabled.
  bool HasSDIV;

  // Are unsigned division/modulo instructions enabled.
  bool HasDIV;

  // Are multiply instructions enabled.
  bool HasMUL;

  // Selected instruction itineraries (one entry per itinerary class.)
  // Used by Mico32GenSubtarget.inc.
  InstrItineraryData InstrItins;

public:

  /// This constructor initializes the data members to match that
  /// of the specified triple.
  Mico32Subtarget(const std::string &TT, const std::string &FS);
  
  /// ParseSubtargetFeatures - Parses features string setting specified 
  /// subtarget options.  Definition of function is auto generated by tblgen.
  std::string ParseSubtargetFeatures(const std::string &FS,
                                     const std::string &CPU);

  bool hasBarrel()  const { return HasBarrel; };
  bool hasSDIV()    const { return HasSDIV; };
  bool hasDIV()     const { return HasDIV; };
  bool hasMUL()     const { return HasMUL; };

};

} // End llvm namespace

#endif
